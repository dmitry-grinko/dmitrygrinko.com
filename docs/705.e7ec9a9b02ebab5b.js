"use strict";(self.webpackChunkdmitrygrinko=self.webpackChunkdmitrygrinko||[]).push([[705],{9705:(f,c,s)=>{s.r(c),s.d(c,{SubcategoryComponent:()=>P});var a=s(2881),g=s(5207),t=s(1360),p=s(6659),d=s(8590);const l=n=>["/category",n],h=n=>["/post",n];function m(n,i){if(1&n&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&n){const o=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,o.subcategory))}}function b(n,i){if(1&n&&(t.j41(0,"a",8)(1,"article",9)(2,"div",10),t.DNE(3,m,3,3,"span",11),t.k0s(),t.j41(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"p",12),t.EFF(7),t.k0s()()()),2&n){const o=i.$implicit,e=i.index,r=t.XpG();t.AVh("focused",r.isPostFocused(e)),t.Y8G("routerLink",t.eq3(7,h,o.slug)),t.BMQ("data-post-index",e),t.R7$(3),t.Y8G("ngIf",o.subcategory),t.R7$(2),t.JRh(o.title),t.R7$(2),t.JRh(o.excerpt)}}function y(n,i){if(1&n&&(t.j41(0,"div",14)(1,"h2"),t.EFF(2,"No Posts Found"),t.k0s(),t.j41(3,"p"),t.EFF(4,"No posts found in this subcategory."),t.k0s(),t.j41(5,"a",15),t.EFF(6),t.k0s()()),2&n){const o=t.XpG();t.R7$(5),t.Y8G("routerLink",t.eq3(2,l,o.categorySlug)),t.R7$(),t.SpI("View all ",o.getCategoryDisplayName()," posts")}}let P=(()=>{class n{blogService;route;router;posts=[];categorySlug="";subcategorySlug="";categoryDisplayName="";subcategoryDisplayName="";focusedPostIndex=-1;constructor(o,e,r){this.blogService=o,this.route=e,this.router=r}ngOnInit(){this.route.params.subscribe(o=>{this.categorySlug=o.category,this.subcategorySlug=o.subcategory,this.loadCategoryData(),this.loadPosts()})}loadCategoryData(){this.blogService.getCategoryTree().subscribe(o=>{const e=o.find(r=>r.slug===this.categorySlug);if(e){this.categoryDisplayName=e.name;const r=e.subcategories.find(u=>u.slug===this.subcategorySlug);this.subcategoryDisplayName=r?r.name:this.subcategorySlug}})}loadPosts(){this.blogService.getPostsBySubcategory(this.categorySlug,this.subcategorySlug).subscribe(o=>{this.posts=o,this.autoFocusFirstPost()})}autoFocusFirstPost(){this.posts.length>0?(this.focusedPostIndex=0,setTimeout(()=>{this.scrollToFocusedPost()},100)):this.focusedPostIndex=-1}getCategoryDisplayName(){return this.categoryDisplayName}getSubcategoryDisplayName(){return this.subcategoryDisplayName}onKeyDown(o){if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"].includes(o.key)||o.ctrlKey)return;const e=o.target;if("INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&0!==this.posts.length)switch(o.preventDefault(),o.key){case"ArrowDown":case"ArrowRight":this.navigateToNext();break;case"ArrowUp":case"ArrowLeft":this.navigateToPrevious();break;case"Enter":this.openFocusedPost()}}navigateToNext(){0!==this.posts.length&&(this.focusedPostIndex=(this.focusedPostIndex+1)%this.posts.length,this.scrollToFocusedPost())}navigateToPrevious(){0!==this.posts.length&&(this.focusedPostIndex<=0?this.focusedPostIndex=this.posts.length-1:this.focusedPostIndex--,this.scrollToFocusedPost())}scrollToFocusedPost(){setTimeout(()=>{const o=document.querySelector(`[data-post-index="${this.focusedPostIndex}"]`);o&&o.scrollIntoView({behavior:"smooth",block:"center"})},0)}openFocusedPost(){this.focusedPostIndex>=0&&this.focusedPostIndex<this.posts.length&&this.router.navigate(["/post",this.posts[this.focusedPostIndex].slug])}isPostFocused(o){return this.focusedPostIndex===o}static \u0275fac=function(e){return new(e||n)(t.rXU(p.c),t.rXU(d.nX),t.rXU(d.Ix))};static \u0275cmp=t.VBU({type:n,selectors:[["app-subcategory"]],hostBindings:function(e,r){1&e&&t.bIt("keydown",function(_){return r.onKeyDown(_)},!1,t.tSv)},decls:13,vars:11,consts:[[1,"header"],[1,"breadcrumbs"],[1,"breadcrumb-link",3,"routerLink"],[1,"breadcrumb-separator"],[1,"breadcrumb-item"],[1,"posts-grid"],["class","post-card-link",3,"routerLink","focused",4,"ngFor","ngForOf"],["class","no-posts",4,"ngIf"],[1,"post-card-link",3,"routerLink"],[1,"post-card"],[1,"post-meta"],["class","subcategory-label",4,"ngIf"],[1,"excerpt"],[1,"subcategory-label"],[1,"no-posts"],[1,"back-link",3,"routerLink"]],template:function(e,r){1&e&&(t.j41(0,"header",0)(1,"div",1)(2,"a",2),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.j41(5,"span",3),t.EFF(6,">"),t.k0s(),t.j41(7,"span",4),t.EFF(8),t.nI1(9,"titlecase"),t.k0s()()(),t.j41(10,"main",5),t.DNE(11,b,8,9,"a",6),t.k0s(),t.DNE(12,y,7,4,"div",7)),2&e&&(t.R7$(2),t.Y8G("routerLink",t.eq3(9,l,r.categorySlug)),t.R7$(),t.SpI(" ",t.bMT(4,5,r.getCategoryDisplayName())," "),t.R7$(5),t.JRh(t.bMT(9,7,r.getSubcategoryDisplayName())),t.R7$(3),t.Y8G("ngForOf",r.posts),t.R7$(),t.Y8G("ngIf",0===r.posts.length))},dependencies:[a.MD,a.Sq,a.bT,a.PV,g.iI,g.Wk],styles:[".header[_ngcontent-%COMP%]{padding-bottom:1rem}.breadcrumbs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;font-size:14px}.breadcrumb-link[_ngcontent-%COMP%]{background:var(--color-bg-secondary);color:var(--color-text-secondary);padding:2px 6px;border-radius:4px;font-size:12px;font-weight:400;text-decoration:none;transition:var(--theme-transition)}.breadcrumb-link[_ngcontent-%COMP%]:hover{background:var(--color-bg-tertiary);color:var(--color-text-primary);text-decoration:none}.breadcrumb-link[_ngcontent-%COMP%]:visited, .breadcrumb-link[_ngcontent-%COMP%]:active, .breadcrumb-link[_ngcontent-%COMP%]:focus{color:var(--color-text-secondary);text-decoration:none}.breadcrumb-item[_ngcontent-%COMP%]{background:var(--color-bg-secondary);color:var(--color-text-secondary);padding:2px 6px;border-radius:4px;font-size:12px;font-weight:400;transition:var(--theme-transition)}.breadcrumb-separator[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-weight:500;margin:0 4px;transition:var(--theme-transition)}.posts-grid[_ngcontent-%COMP%]{display:grid;gap:24px}.post-card-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit;display:block;border-radius:6px;transition:var(--theme-transition)}.post-card-link.focused[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]{background:var(--color-surface-hover)}.post-card[_ngcontent-%COMP%]{background:var(--color-bg-primary);border:1px solid var(--color-border-primary);border-radius:6px;padding:16px;transition:var(--theme-transition);cursor:pointer}.post-card[_ngcontent-%COMP%]:hover{background:var(--color-surface-hover)}.post-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.3rem;line-height:1.4}.post-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-text-primary);text-decoration:none;transition:var(--theme-transition)}.post-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-text-accent)}.post-meta[_ngcontent-%COMP%]{margin-bottom:8px}.subcategory-label[_ngcontent-%COMP%]{background:var(--color-bg-secondary);color:var(--color-text-secondary);padding:2px 6px;border-radius:4px;font-size:12px;font-weight:400;transition:var(--theme-transition)}.excerpt[_ngcontent-%COMP%]{color:var(--color-text-secondary);line-height:1.6;margin-bottom:1rem;transition:var(--theme-transition)}.read-more[_ngcontent-%COMP%]{color:var(--color-text-accent);text-decoration:none;font-weight:500;font-size:.9rem;transition:var(--theme-transition)}.read-more[_ngcontent-%COMP%]:hover{text-decoration:underline}.no-posts[_ngcontent-%COMP%]{text-align:center;margin-top:3rem;color:var(--color-text-secondary);transition:var(--theme-transition)}.no-posts[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;color:var(--color-text-primary);transition:var(--theme-transition)}.no-posts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem}.back-link[_ngcontent-%COMP%]{color:var(--color-text-accent);text-decoration:none;font-weight:500;transition:var(--theme-transition)}.back-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.post-card[_ngcontent-%COMP%]{padding:1rem}.post-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}}"]})}return n})()}}]);